centos 7 添加阿里云镜像
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
yum install -y  epel-release


安装常用的开发组件和vim
yum  groups install -y "Development Tools"
yum groups info  "Development Tools"
yum install  -y vim 

增加Zabbix镜像源
rpm -ivh https://repo.zabbix.com/zabbix/4.0/rhel/7/x86_64/zabbix-release-4.0-1.el7.noarch.rpm


停止firewalld服务
systemctl stop firewalld.service
systemctl disable  firewalld.service

永久关闭SElinux
sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config
init 6

注：临时关闭Selinux方法
setenforce 0
getenforce 


安装Zabbix Server和Frontend
yum install zabbix-server-mysql
yum install zabbix-web-mysql
**技巧：可通过 yum search zabbix 来获取以上安装包的具体名称

安装Mysql
yum install mariadb-server
systemctl  start mariadb.service
systemctl  status mariadb.service
systemctl  enable mariadb.service

初始化Mysql
mysql_secure_installation
Enter current password for root (enter for none):回车
Set root password? [Y/n] Y
New password:
Re-enter new password:
Remove anonymous users? [Y/n] y
 ... Success!
Disallow root login remotely? [Y/n] y
 ... Success!
Remove test database and access to it? [Y/n] y
 - Dropping test database...
 ... Success!
 - Removing privileges on test database...
 ... Success!
Reload privilege tables now? [Y/n] y
 ... Success!


创建数据库
mysql -uroot -p
create database zabbix character set utf8 collate utf8_bin;
grant all privileges on zabbix.* to zabbix@localhost identified by 'zabbix@findsec123';
flush privileges
quit 

导入数据结构

zcat /usr/share/doc/zabbix-server-mysql-4.0.10/create.sql.gz | mysql -uzabbix -pzabbix@findsec123  zabbix


配置Zabbix Serve
vim /etc/zabbix/zabbix_server.conf
检查以下内容，有#则去除
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=zabbix@findsec123


启动Zabbix Server
systemctl  start zabbix-server.service
systemctl  status zabbix-server.service
systemctl  enable zabbix-server.service
ps -ef | grep zabbix
more /var/log/zabbix/zabbix_server.log


配置Zabbix frontend
vim /etc/php.ini

max_execution_time = 300
memory_limit = 128M
post_max_size = 16M
upload_max_filesize = 2M
max_input_time = 300
max_input_vars = 10000
always_populate_raw_post_data = -1
date.timezone = Asia/Shanghai


启动httpd
systemctl  start  httpd.service
systemctl  status  httpd.service
systemctl  enable  httpd.service


http://10.211.55.7/zabbix/setup.php

Admin
zabbix


安装Zabbix Agent
yum install zabbix-agent
Server=127.0.0.1
ServerActive=127.0.0.1
Hostname=192.168.1.169


systemctl  start zabbix-agent.service
systemctl  enable zabbix-agent.service






